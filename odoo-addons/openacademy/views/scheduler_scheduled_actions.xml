<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data noupdate="1">
        <record id="ir_cron_scheduler_demo_action" model="ir.cron">
            <field name="name">Demo scheduler</field>
            <field name="user_id" ref="base.user_root"/>
            <field name="interval_number">2</field>
            <field name="interval_type">minutes</field>
            <field name="numbercall">-1</field>
            <field eval="False" name="doall"/>
            <field eval="'openacademy.scheduler_demo'" name="model"/>
            <field eval="'process_demo_scheduler_queue'" name="function"/>
        </record>

        <record id="id_server_action" model="ir.actions.server">
            <field name="name">Odoo Server Action</field>
            <field name="model_id" ref="openacademy.model_openacademy_course"/>
            <field name="state">code</field>
            <field name="code">action = env["openacademy.scheduler_demo"].automated_action_method()</field>
        </record>

        <record id="id_automated_server_action" model="base.action.rule">
            <field name="name">Odoo Automated Server Action</field>
            <field name="model_id" ref="openacademy.model_openacademy_course"/>
            <field name="active">1</field>
            <!--
                on_create = On Creation
                on_write = On Update
                on_create_or_write = On Creation & Update
                on_unlink = On Deletion
                on_change = Based on Form Modification
                on_time = Based on Timed Condition
            -->
            <field name="kind">on_write</field>
            <field name="server_action_ids" eval="[(6,0,[ref('id_server_action'), ref('upload_course_list_server_action')])]"/>
        </record>

   </data>
</odoo>